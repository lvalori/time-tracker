<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>Time Tracker</h1>
        </header>

        <main>
            <section id="new-record-screen">
                <button id="new-project-btn">Nuova Rilevazione</button>
            </section>

            <section id="project-form" class="hidden">
                <h2>Nuova Rilevazione</h2>
                <label for="project-name">Nome Progetto:</label>
                <input type="text" id="project-name" placeholder="Nome progetto">

                <form id="image-upload-form">
                    <label for="image-upload">Immagine:</label>
                    <input type="file" id="image-upload" name="image">
                    <img id="image-preview" src="" alt="Anteprima">
                </form>

                <label for="phase-select">Fase:</label>
                <select id="phase-select">
                    <option value="sbassatura">Sbassatura</option>
                    <option value="scarnitura">Scarnitura</option>
                    <option value="segni">Segni</option>
                    <option value="applicazione">Applicazione</option>
                    <option value="cucitura-tomaia">Cucitura Tomaia</option>
                    <option value="cucitura-fodera">Cucitura Fodera</option>
                </select>

                <label for="position-description">Posizione:</label>
                <input type="text" id="position-description" placeholder="Descrizione posizione">

                <div class="timer-controls">
                    <button id="start-timer-btn">Avvia</button>
                    <button id="stop-timer-btn">Ferma</button>
                    <div id="timer">00:00</div>
                </div>

                <button id="save-record-btn">Salva</button>
            </section>

            <section id="saved-records" class="hidden">
                <h2>Rilevazioni</h2>
                <h3 id="project-name-display"></h3>
                <div id="summary">
                    <div id="image-container">
                        <img id="summary-image" src="" alt="Immagine caricata">
                    </div>
                    <div id="chart-container">
                        <canvas id="phase-chart"></canvas>
                        <div id="chart-legend"></div>
                    </div>
                </div>
                <div id="records-list"></div>
                <div id="total-times">
                    <p id="start-time"></p>
                    <p id="end-time"></p>
                    <p id="total-time"></p>
                </div>
                <button id="end-record-btn">Fine</button>
                <button id="download-excel-btn" class="hidden">Scarica Excel</button>
                <button id="download-pdf-btn" class="hidden">Esporta in PDF</button>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>